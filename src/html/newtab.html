<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulary Learning Note</title>
    <link rel="stylesheet" href="../css/newtab.css">
</head>
<body class="compact-layout">
    <!-- 사이드바 메뉴 -->
    <div class="sidebar-menu" id="sidebar-menu">
            <!-- 접혀있는 상태에서 보이는 아이콘 버튼들 -->
            <div class="sidebar-icons">
                <button id="refresh-words-icon" class="icon-btn" title="Refresh">🔄</button>
                <button id="export-words-icon" class="icon-btn" title="Export">📤</button>
                <button id="import-words-icon" class="icon-btn" title="Import">📥</button>
                <button id="toggle-all-definitions-icon" class="icon-btn" title="Hide All Definitions">👁️</button>
                <button id="toggle-all-words-icon" class="icon-btn" title="Hide All Words">🙈</button>
                <button id="toggle-card-buttons-icon" class="icon-btn" title="Toggle Card Buttons">🔘</button>
                <button id="toggle-card-click-icon" class="icon-btn" title="Toggle Card Click">🖱️</button>
                <button id="pin-all-icon" class="icon-btn" title="Pin All">📌</button>
                <button id="unpin-all-icon" class="icon-btn" title="Unpin All">📍</button>
                <button id="show-archived-icon" class="icon-btn" title="Archived Words">📦</button>
                <button id="update-examples-icon" class="icon-btn" title="Update Examples">💬</button>
                <button id="start-today-voca-icon" class="icon-btn today-voca-icon" title="Today Voca">📚</button>
                <button id="start-quiz-icon" class="icon-btn quiz-icon" title="Start Quiz">🎯</button>
                <button id="status-icon" class="icon-btn status-icon" title="Status">📊</button>
            </div>
            
            <div class="sidebar-header">
                <h3>📋 Menu</h3>
                <button class="sidebar-toggle" id="sidebar-toggle">×</button>
            </div>
            <div class="sidebar-content">
                <div class="menu-section">
                    <h4>🔄 Data Management</h4>
                    <button id="refresh-words" class="menu-btn">🔄 Refresh</button>
                    <button id="export-words" class="menu-btn">📤 Export</button>
                    <button id="import-words" class="menu-btn">📥 Import</button>
                </div>
                
                <div class="menu-section">
                    <h4>👁️ Display Settings</h4>
                    <button id="toggle-all-definitions" class="menu-btn">🙈 Hide All Definitions</button>
                    <button id="toggle-all-words" class="menu-btn">🙈 Hide All Words</button>
                    <button id="toggle-card-buttons" class="menu-btn">🔘 Toggle Card Buttons</button>
                    <button id="toggle-card-click" class="menu-btn">🖱️ Toggle Card Click</button>
                </div>
                
                <div class="menu-section">
                    <h4>📌 Pin Management</h4>
                    <button id="pin-all" class="menu-btn">📌 Pin All</button>
                    <button id="unpin-all" class="menu-btn">📌 Unpin All</button>
                </div>
                
                <div class="menu-section">
                    <h4>📦 Archive</h4>
                    <button id="show-archived" class="menu-btn">📦 Archived Words</button>
                    <button id="update-examples" class="menu-btn">💬 Update Examples</button>
                </div>
                
                <div class="menu-section">
                    <h4>🎯 Learning</h4>
                    <button id="start-today-voca" class="menu-btn today-voca-btn">📚 Today Voca</button>
                    <button id="start-quiz" class="menu-btn quiz-btn">🎯 Start Quiz</button>
                    <button id="status" class="menu-btn status-btn">📊 Status</button>
                </div>
            </div>
        </div>
        
        <!-- 메뉴 토글 버튼 -->
        <button class="menu-toggle-btn" id="menu-toggle-btn">☰</button>
        
        <div class="container">
            <header class="header">
            <div class="header-top">
                <!-- 왼쪽: 시계 -->
                <div class="time-display">
                    <span id="current-time">Loading...</span>
                    <span id="current-date">Loading...</span>
                </div>
                
                <!-- 중앙: URL 검색창 -->
                <div class="url-search-container">
                    <form id="url-search-form" class="url-search-form">
                        <input type="text" id="url-search-input" placeholder="Search Google or enter a website name..." class="url-search-input">
                        <button type="submit" class="url-search-btn">🔍</button>
                    </form>
                </div>
                
                <!-- 오른쪽: 헤더 컨트롤 -->
                <div class="header-controls">
                    <a href="https://mail.google.com" target="_blank" class="header-link">Gmail</a>
                    <a href="https://myaccount.google.com/" target="_blank" class="header-link">Account</a>
                    <button id="layout-toggle" class="layout-btn" title="Toggle Layout (Ctrl+L)">
                        <span class="layout-icon">📐</span>
                    </button>
                    <button id="animation-toggle" class="animation-btn" title="Toggle animations (Ctrl+A)">
                        <span class="animation-icon">🎬</span>
                    </button>
                    <button id="dark-mode-toggle" class="dark-mode-btn" title="Toggle dark mode (Ctrl+D)">
                        <span class="dark-mode-icon">🌙</span>
                    </button>
                </div>
            </div>
        </header>
        
        <main class="main-content">
            <div class="controls-top">
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Search words..." class="search-input">
                    <button id="clear-search" class="clear-search-btn">✕</button>
                </div>
                <div class="view-controls">
                    <button id="board-view" class="btn btn-view active" data-view="board">📋 Board View</button>
                    <button id="table-view" class="btn btn-view" data-view="table">📊 Table View</button>
                </div>

            </div>
            
                    <div class="sort-controls">
            <label for="sort-select">Sort by:</label>
            <select id="sort-select" class="sort-select">
                <option value="date">Date Added</option>
                <option value="alphabetical">Alphabetical</option>
                <option value="wrong-count">Wrong Count (High to Low)</option>
                <option value="learning-priority">Learning Priority</option>
            </select>
        </div>
            
            <div id="words-container">
                <div id="words-grid" class="words-grid active">
                    <div class="loading">Loading vocabulary...</div>
                </div>
                <div id="words-table" class="words-table">
                    <div class="loading">Loading vocabulary...</div>
                </div>
            </div>
            
            <div class="progress-section">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <span id="progress-text">0% pinned</span>
            </div>
        </main>
        
        <footer class="footer">
            <button id="manage-words" class="btn btn-outline">Manage Words</button>
            <button id="clear-all" class="btn btn-danger">Clear All</button>
            <div class="api-credits">
                <p>Thanks to: <a href="https://dictionaryapi.dev/" target="_blank">Dictionary API</a> for definitions, 
                <a href="https://www.datamuse.com/api/" target="_blank">Datamuse API</a> for word relationships and stop words, 
                and <a href="https://mozilla.github.io/pdf.js/" target="_blank">Mozilla PDF.js</a> for PDF viewing</p>
            </div>
        </footer>
        </div>
    </div>
    
    <!-- Quiz Type Selection Modal -->
    <div id="quiz-type-modal" class="modal">
        <div class="modal-content quiz-type-modal">
            <div class="modal-header">
                <h2>🎯 Select Quiz Type</h2>
                <button class="modal-close" id="close-quiz-type">&times;</button>
            </div>
            <div class="modal-body">
                <div class="quiz-type-options">
                    <div class="quiz-type-option" data-type="definition-to-word">
                        <div class="quiz-type-icon">📝</div>
                        <h3>Definition to Word</h3>
                        <p>Choose the correct word for each definition</p>
                        <div class="quiz-type-preview">
                            <strong>Example:</strong><br>
                            "A feeling of great happiness"<br>
                            → Choose: <span class="correct-answer">Joy</span>
                        </div>
                    </div>
                    <div class="quiz-type-option" data-type="word-to-definition">
                        <div class="quiz-type-icon">🔤</div>
                        <h3>Word to Definition</h3>
                        <p>Choose the correct definition for each word</p>
                        <div class="quiz-type-preview">
                            <strong>Example:</strong><br>
                            "Serendipity"<br>
                            → Choose: <span class="correct-answer">Finding something good without looking for it</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quiz now opens in separate window -->
    
    <!-- Score Modal -->
    <div id="score-modal" class="modal">
        <div class="modal-content score-modal">
            <div class="modal-header">
                <h2>🏆 Quiz Results</h2>
                <button class="modal-close" id="close-score">&times;</button>
            </div>
            <div class="modal-body">
                <div class="score-summary">
                    <div class="final-score">
                        <span id="final-score-text">0/5</span>
                    </div>
                    <div class="score-details" id="score-details">
                        <p>Correct: <span id="correct-count">0</span></p>
                        <p>Incorrect: <span id="incorrect-count">0</span></p>
                        <p>Weekly Score: <span id="weekly-score-display">0</span></p>
                    </div>
                </div>
                <div class="score-actions">
                    <button id="retry-quiz" class="btn btn-primary">Retry Quiz</button>
                    <button id="share-score" class="btn btn-outline">Share Score</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Status Modal -->
    <div id="status-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>📊 Daily Status</h2>
                <button class="modal-close" id="close-status">&times;</button>
            </div>
            <div class="modal-body">
                <div id="status-content">
                    <div class="status-section">
                        <h3>🔥 Daily Streak</h3>
                        <div class="streak-display">
                            <span id="current-streak">0</span> days
                        </div>
                        <p class="streak-info">Keep the streak going!</p>
                    </div>
                    <div class="status-section">
                        <h3>📈 Today's Progress</h3>
                        <div class="progress-stats">
                            <p>Words reviewed: <span id="today-reviewed-count">0</span></p>
                            <p>Quizzes taken: <span id="today-quizzes-count">0</span></p>
                            <p>Total score: <span id="today-total-score">0</span></p>
                        </div>
                    </div>
                    <div class="status-section">
                        <h3>🎯 Best Streak</h3>
                        <div class="best-streak">
                            <span id="best-streak">0</span> days
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    
    <!-- Hidden file input for import -->
    <input type="file" id="import-file-input" accept=".csv" style="display: none;">
    
    <script src="../js/newtab-check.js"></script>
    <script src="../js/newtab.js"></script>
</body>
</html> 